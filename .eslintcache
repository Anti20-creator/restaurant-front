[{"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\index.js":"1","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\reportWebVitals.js":"2","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\App.js":"3","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\Register.js":"4","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\config.js":"5","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\HomePage.js":"6","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\LeftPanel.js":"7","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\MenuRow.js":"8","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\ProfileRow.js":"9","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\LoginPage\\LoginPage.js":"10"},{"size":500,"mtime":1610986693112,"results":"11","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"12"},{"size":1146,"mtime":1611569434015,"results":"14","hashOfConfig":"12"},{"size":4104,"mtime":1611571721494,"results":"15","hashOfConfig":"12"},{"size":317,"mtime":1611658706447,"results":"16","hashOfConfig":"12"},{"size":1305,"mtime":1611590595543,"results":"17","hashOfConfig":"12"},{"size":1950,"mtime":1611662187825,"results":"18","hashOfConfig":"12"},{"size":266,"mtime":1611430105600,"results":"19","hashOfConfig":"12"},{"size":428,"mtime":1611433118428,"results":"20","hashOfConfig":"12"},{"size":2695,"mtime":1611587986579,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1r2ve9",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"24"},"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\index.js",[],["47","48"],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\reportWebVitals.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\App.js",["49","50"],"import logo from './logo.svg';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport './App.css';\nimport Register from './components/Register';\nimport HomePage from './components/HomePage/HomePage';\nimport LoginPage from './components/LoginPage/LoginPage';\n\nfunction App() {\n  return (\n    <Router>\n      <div>\n        {/*<nav>\n            <span>Restaurant</span>\n\n            <div className=\"links\">\n                <span>\n                  <Link to=\"/\">Home</Link>\n                </span>\n                <span>\n                  <Link to=\"/register\">Register</Link>\n                </span>\n            </div>\n        </nav>*/}\n\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route path=\"/register\">\n            <Register />\n          </Route>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route path=\"/\">\n            <HomePage />\n          </Route>\n            <div></div>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\Register.js",["51","52","53","54","55","56","57"],"import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './register.css'\r\nimport axios from 'axios'\r\nimport API from '../config'\r\n\r\n\r\nfunction Register() {\r\n    \r\n    //this will store the data from the form\r\n    const [signupData, setSignupData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        passwordRepeat: '',\r\n        restaurant: ''\r\n    })\r\n\r\n    const [errors, setErrors] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        passwordRepeat: '',\r\n        restaurant: ''\r\n    })\r\n    \r\n    async function handleInput(e){\r\n        const {name, value} = e.target\r\n        setSignupData({...signupData, [name]: value})\r\n    }\r\n\r\n    function validateForm(){\r\n        let errorsToPush = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            passwordRepeat: '',\r\n            restaurant: ''\r\n        }\r\n\r\n        if (validateEmail(signupData.email)){\r\n            //email is valid -> check if it isn't registered yet\r\n            API.get('/userExists', {params : {\r\n                    'email': signupData.email\r\n            }}).then(available => {\r\n                errorsToPush.email = available ? '' : 'Email is used!'\r\n            })\r\n\r\n        }else{\r\n            errorsToPush.email = signupData.email == '' ? '' : 'Invalid email format!'\r\n        }\r\n\r\n        errorsToPush.name = signupData.name == \"\" ? \"Name can't be empty!\" : ''\r\n        errorsToPush.restaurant = signupData.restaurant == '' ? \"Restaurant name can't be empty!\" : ''\r\n\r\n        errorsToPush.passwordRepeat = signupData.password !== signupData.passwordRepeat ? \"Passwords don't match!\" : ''\r\n\r\n        setErrors(errorsToPush)\r\n\r\n    }\r\n\r\n    function valid(){\r\n        for(const e in errors){\r\n            if(errors[e] !== '') return false\r\n        }\r\n        console.log(errors.passwordRepeat)\r\n        return true\r\n    }\r\n\r\n    function validateEmail(email){\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n    }\r\n\r\n    function registerUser(e){\r\n        e.preventDefault()\r\n        if(valid()){\r\n            const data = JSON.stringify(signupData)\r\n            API.post('/register', data).then(resp => console.log(resp))\r\n        }else{\r\n            alert('NOT VALID')\r\n        }\r\n    }\r\n\r\n    //can help to debugging too\r\n    useEffect(() => {\r\n        validateForm()\r\n        console.log(signupData)\r\n        console.log(errors)\r\n    }, [signupData])\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"signupHolder\">\r\n                <div className=\"signupHolder--left\">\r\n                    <h2>Welcome back!</h2>\r\n                    <h4>To keep connected with us please <br></br> login with your personal info </h4>\r\n                    <button>Sign in</button>\r\n                </div>\r\n\r\n                <div className=\"signupHolder--right\">\r\n                    <h1>Create Account</h1>\r\n                    <form action=\"\" onSubmit={registerUser}>\r\n                        <input onChange={handleInput} type=\"text\" name=\"name\" placeholder=\"Name\" /> <br></br>\r\n                        <p>{errors.name}</p>\r\n                        <input onInput={handleInput} style={{outlineColor: errors.email == '' ? 'green' : 'red'}} type=\"text\" name=\"email\" placeholder=\"E-mail\" /> <br></br>\r\n                        <p>{errors.email}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"restaurant\" placeholder=\"Name of your restaurant\" /> <br></br>\r\n                        <p>{errors.restaurant}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"password\" placeholder=\"Password\" /> <br></br>\r\n                        <p>{errors.password}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"passwordRepeat\" placeholder=\"Verify password\"/> <br></br>\r\n                        <p>{errors.passwordRepeat}</p>\r\n                        <input type=\"submit\" value=\"Sign up\"/> \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\config.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\HomePage.js",["58"],"import React from 'react'\r\nimport LeftPanel from './LeftPanel'\r\nimport './HomePage.css'\r\nimport API from '../../config'\r\nimport {useState, useEffect} from 'react'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\n\r\nfunction HomePage() {\r\n\r\n    const [isLoading, setLoading] = useState(true)\r\n    const [isAuthenticated, setAuthenticated] = useState(false)\r\n\r\n    \r\n    function loggedIn(){\r\n        setTimeout(function() {\r\n            API.get('/isLoggedIn').then(result => {\r\n                if(result.status == 200){\r\n                    setLoading(false)\r\n                    setAuthenticated(true)\r\n                }\r\n            }).catch((err) => {\r\n                console.log(err)\r\n                setLoading(false)\r\n            })\r\n        }, 2000);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        loggedIn()\r\n    }, [])\r\n\r\n    return(\r\n        <div>\r\n                {(isLoading) ? \r\n                (<div className=\"loading--home\">\r\n                    <CircularProgress color=\"secondary\" />\r\n                </div>) : \r\n                \r\n                    (isAuthenticated) ? (\r\n                \r\n                    <div className=\"pageWrapper\"> <LeftPanel /> </div>\r\n                    ) : <div>Not authenticated</div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\LeftPanel.js",["59"],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\MenuRow.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\ProfileRow.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\LoginPage\\LoginPage.js",["60","61","62"],"import React from 'react'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport {useState, useEffect} from 'react'\r\nimport API from '../../config'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axios from 'axios'\r\n\r\nfunction LoginPage() {\r\n    \r\n    const history = useHistory();\r\n    const [loginData, setLoginData] = useState({\r\n        'email' : '',\r\n        'password' : ''\r\n    })\r\n    const [errors, setErrors] = useState({\r\n        'email' : '',\r\n        'password' : ''\r\n    })\r\n    \r\n    useEffect(() => {\r\n        validateForm()\r\n        console.log(loginData)\r\n        console.log(errors)\r\n    }, [loginData])\r\n    \r\n    function validateForm(){\r\n        \r\n        let errorsToPush = {\r\n            'email' : '',\r\n            'password' : ''\r\n        }\r\n        if(loginData.email === ''){\r\n            errorsToPush.email = \"Email can't be blank\"\r\n            console.log(loginData.email)\r\n        }else if(!validateEmail(loginData.email)) {\r\n            errorsToPush.email = \"Email is not valid\"\r\n        }\r\n        \r\n        if(loginData.password === ''){\r\n            errorsToPush.password = \"Password can't be blank\"\r\n        }\r\n\r\n        setErrors(errorsToPush)\r\n    }\r\n\r\n    async function handleInput(e){\r\n        const {name, value} = e.target\r\n        setLoginData({...loginData, [name]: value})\r\n    }\r\n    \r\n    function validateEmail(email){\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n    }\r\n\r\n    async function loginUser(e){\r\n        e.preventDefault()\r\n        await API.post('/login', loginData).then(result => {\r\n            if(result.status == 200){\r\n                history.push(\"/\");\r\n            }\r\n        }).catch((error) => {\r\n            console.log('Wrong credentials!')\r\n        })\r\n        \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form action=\"\" onSubmit={loginUser}>\r\n                <TextField\r\n                    name=\"email\"\r\n                    error={errors.email}\r\n                    onInput={handleInput}                \r\n                    id=\"standard-error-helper-text\"\r\n                    label=\"Full Name\"\r\n                    defaultValue=\"\"\r\n                    helperText={errors.email}\r\n                />\r\n                <br></br>\r\n                <TextField\r\n                    name=\"password\"\r\n                    error={errors.password}\r\n                    onInput={handleInput}                \r\n                    label=\"Password\"\r\n                    defaultValue=\"\"\r\n                    helperText={errors.password}\r\n                />\r\n                <br></br>\r\n                <input type=\"submit\"/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage\r\n",{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":1,"column":8,"nodeType":"69","messageId":"70","endLine":1,"endColumn":12},{"ruleId":"67","severity":1,"message":"71","line":6,"column":3,"nodeType":"69","messageId":"70","endLine":6,"endColumn":7},{"ruleId":"67","severity":1,"message":"72","line":2,"column":8,"nodeType":"69","messageId":"70","endLine":2,"endColumn":16},{"ruleId":"67","severity":1,"message":"73","line":4,"column":8,"nodeType":"69","messageId":"70","endLine":4,"endColumn":13},{"ruleId":"74","severity":1,"message":"75","line":50,"column":51,"nodeType":"76","messageId":"77","endLine":50,"endColumn":53},{"ruleId":"74","severity":1,"message":"75","line":53,"column":45,"nodeType":"76","messageId":"77","endLine":53,"endColumn":47},{"ruleId":"74","severity":1,"message":"75","line":54,"column":57,"nodeType":"76","messageId":"77","endLine":54,"endColumn":59},{"ruleId":"78","severity":1,"message":"79","line":89,"column":8,"nodeType":"80","endLine":89,"endColumn":20,"suggestions":"81"},{"ruleId":"74","severity":1,"message":"75","line":105,"column":89,"nodeType":"76","messageId":"77","endLine":105,"endColumn":91},{"ruleId":"74","severity":1,"message":"75","line":17,"column":34,"nodeType":"76","messageId":"77","endLine":17,"endColumn":36},{"ruleId":"67","severity":1,"message":"82","line":6,"column":10,"nodeType":"69","messageId":"70","endLine":6,"endColumn":16},{"ruleId":"67","severity":1,"message":"73","line":7,"column":8,"nodeType":"69","messageId":"70","endLine":7,"endColumn":13},{"ruleId":"78","severity":1,"message":"79","line":25,"column":8,"nodeType":"80","endLine":25,"endColumn":19,"suggestions":"83"},{"ruleId":"74","severity":1,"message":"75","line":59,"column":30,"nodeType":"76","messageId":"77","endLine":59,"endColumn":32},"no-native-reassign",["84"],"no-negated-in-lhs",["85"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'ReactDOM' is defined but never used.","'axios' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'errors' and 'validateForm'. Either include them or remove the dependency array.","ArrayExpression",["86"],"'Avatar' is defined but never used.",["87"],"no-global-assign","no-unsafe-negation",{"desc":"88","fix":"89"},{"desc":"90","fix":"91"},"Update the dependencies array to be: [errors, signupData, validateForm]",{"range":"92","text":"93"},"Update the dependencies array to be: [errors, loginData, validateForm]",{"range":"94","text":"95"},[2464,2476],"[errors, signupData, validateForm]",[626,637],"[errors, loginData, validateForm]"]