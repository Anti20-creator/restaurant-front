[{"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\index.js":"1","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\reportWebVitals.js":"2","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\App.js":"3","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\Register.js":"4","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\config.js":"5","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\HomePage.js":"6","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\LeftPanel.js":"7","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\MenuRow.js":"8","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\ProfileRow.js":"9"},{"size":500,"mtime":1610986693112,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":1011,"mtime":1611428101642,"results":"13","hashOfConfig":"11"},{"size":4122,"mtime":1611154746656,"results":"14","hashOfConfig":"11"},{"size":200,"mtime":1611147902117,"results":"15","hashOfConfig":"11"},{"size":247,"mtime":1611429042976,"results":"16","hashOfConfig":"11"},{"size":1738,"mtime":1611433011290,"results":"17","hashOfConfig":"11"},{"size":266,"mtime":1611430105600,"results":"18","hashOfConfig":"11"},{"size":428,"mtime":1611433118428,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1r2ve9",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\index.js",[],["40","41"],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\reportWebVitals.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\App.js",["42","43"],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\Register.js",["44","45","46","47","48","49","50"],"import React, { useState, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './register.css'\r\nimport axios from 'axios'\r\nimport API from '../config'\r\n\r\n\r\nfunction Register() {\r\n    \r\n    //this will store the data from the form\r\n    const [signupData, setSignupData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        passwordRepeat: '',\r\n        restaurant: ''\r\n    })\r\n\r\n    const [errors, setErrors] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        passwordRepeat: '',\r\n        restaurant: ''\r\n    })\r\n    \r\n    async function handleInput(e){\r\n        const {name, value} = e.target\r\n        setSignupData({...signupData, [name]: value})\r\n    }\r\n\r\n    function validateForm(){\r\n        let errorsToPush = {\r\n            name: '',\r\n            email: '',\r\n            password: '',\r\n            passwordRepeat: '',\r\n            restaurant: ''\r\n        }\r\n\r\n        if (validateEmail(signupData.email)){\r\n            //email is valid -> check if it isn't registered yet\r\n            API.get('/userExists', {params : {\r\n                    'email': signupData.email\r\n            }}).then(available => {\r\n                \r\n                errorsToPush.email = available ? '' : 'Email is used!'\r\n            })\r\n\r\n        }else{\r\n            errorsToPush.email = signupData.email == '' ? '' : 'Invalid email format!'\r\n        }\r\n\r\n        errorsToPush.name = signupData.name == \"\" ? \"Name can't be empty!\" : ''\r\n        errorsToPush.restaurant = signupData.restaurant == '' ? \"Restaurant name can't be empty!\" : ''\r\n\r\n        errorsToPush.passwordRepeat = signupData.password !== signupData.passwordRepeat ? \"Passwords don't match!\" : ''\r\n\r\n        setErrors(errorsToPush)\r\n\r\n    }\r\n\r\n    function valid(){\r\n        for(const e in errors){\r\n            if(errors[e] !== '') return false\r\n        }\r\n        console.log(errors.passwordRepeat)\r\n        return true\r\n    }\r\n\r\n    function validateEmail(email){\r\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n    }\r\n\r\n    function registerUser(e){\r\n        e.preventDefault()\r\n        if(valid()){\r\n            const data = JSON.stringify(signupData)\r\n            API.post('/register', data).then(resp => console.log(resp))\r\n        }else{\r\n            alert('NOT VALID')\r\n        }\r\n    }\r\n\r\n    //can help to debugging too\r\n    useEffect(() => {\r\n        validateForm()\r\n        console.log(signupData)\r\n        console.log(errors)\r\n    }, [signupData])\r\n    \r\n    return (\r\n        <div>\r\n            <div className=\"signupHolder\">\r\n                <div className=\"signupHolder--left\">\r\n                    <h2>Welcome back!</h2>\r\n                    <h4>To keep connected with us please <br></br> login with your personal info </h4>\r\n                    <button>Sign in</button>\r\n                </div>\r\n\r\n                <div className=\"signupHolder--right\">\r\n                    <h1>Create Account</h1>\r\n                    <form action=\"\" onSubmit={registerUser}>\r\n                        <input onChange={handleInput} type=\"text\" name=\"name\" placeholder=\"Name\" /> <br></br>\r\n                        <p>{errors.name}</p>\r\n                        <input onInput={handleInput} style={{outlineColor: errors.email == '' ? 'green' : 'red'}} type=\"text\" name=\"email\" placeholder=\"E-mail\" /> <br></br>\r\n                        <p>{errors.email}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"restaurant\" placeholder=\"Name of your restaurant\" /> <br></br>\r\n                        <p>{errors.restaurant}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"password\" placeholder=\"Password\" /> <br></br>\r\n                        <p>{errors.password}</p>\r\n                        <input onInput={handleInput} type=\"text\" name=\"passwordRepeat\" placeholder=\"Verify password\"/> <br></br>\r\n                        <p>{errors.passwordRepeat}</p>\r\n                        <input type=\"submit\" value=\"Sign up\"/> \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\config.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\HomePage.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\LeftPanel.js",["51"],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\MenuRow.js",[],"C:\\Users\\amtmanni\\Documents\\Szakdolgozat\\restaurant-front\\src\\components\\HomePage\\ProfileRow.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":1,"column":8,"nodeType":"58","messageId":"59","endLine":1,"endColumn":12},{"ruleId":"56","severity":1,"message":"60","line":6,"column":3,"nodeType":"58","messageId":"59","endLine":6,"endColumn":7},{"ruleId":"56","severity":1,"message":"61","line":2,"column":8,"nodeType":"58","messageId":"59","endLine":2,"endColumn":16},{"ruleId":"56","severity":1,"message":"62","line":4,"column":8,"nodeType":"58","messageId":"59","endLine":4,"endColumn":13},{"ruleId":"63","severity":1,"message":"64","line":51,"column":51,"nodeType":"65","messageId":"66","endLine":51,"endColumn":53},{"ruleId":"63","severity":1,"message":"64","line":54,"column":45,"nodeType":"65","messageId":"66","endLine":54,"endColumn":47},{"ruleId":"63","severity":1,"message":"64","line":55,"column":57,"nodeType":"65","messageId":"66","endLine":55,"endColumn":59},{"ruleId":"67","severity":1,"message":"68","line":90,"column":8,"nodeType":"69","endLine":90,"endColumn":20,"suggestions":"70"},{"ruleId":"63","severity":1,"message":"64","line":106,"column":89,"nodeType":"65","messageId":"66","endLine":106,"endColumn":91},{"ruleId":"56","severity":1,"message":"71","line":6,"column":10,"nodeType":"58","messageId":"59","endLine":6,"endColumn":16},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'ReactDOM' is defined but never used.","'axios' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'errors' and 'validateForm'. Either include them or remove the dependency array.","ArrayExpression",["74"],"'Avatar' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"75","fix":"76"},"Update the dependencies array to be: [errors, signupData, validateForm]",{"range":"77","text":"78"},[2482,2494],"[errors, signupData, validateForm]"]